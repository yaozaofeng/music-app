(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e0db97e"],{"42ba":function(t,e,i){"use strict";i.d(e,"b",(function(){return c})),i.d(e,"a",(function(){return l})),i.d(e,"c",(function(){return d}));var s=i("5693"),r=i("da71"),n=i("bc3a"),a=i.n(n),o=!1;function c(){var t="https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg",e=Object.assign({},r["b"],{platform:"h5",uin:0,needNewCode:1});return Object(s["a"])(t,e,r["c"])}function l(){var t=o?"/api/getDiscList":"http://ustbhuangyi.com/music/api/getDiscList",e=Object.assign({},r["b"],{platform:"yqq",hostUin:0,sin:0,ein:29,sortId:5,needNewCode:0,categoryId:1e7,rnd:Math.random(),format:"json"});return a.a.get(t,{params:e}).then((function(t){return Promise.resolve(t.data)}))}function d(t){var e=o?"/api/getCdInfo":"http://ustbhuangyi.com/music/api/getCdInfo",i=Object.assign({},r["b"],{disstid:t,type:1,json:1,utf8:1,onlysong:0,platform:"yqq",hostUin:0,needNewCode:0});return a.a.get(e,{params:i}).then((function(t){return Promise.resolve(t.data)}))}},5772:function(t,e,i){},"7c58":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"recommend",staticClass:"recommend"},[i("scroll",{ref:"scroll",staticClass:"recommend-content",attrs:{data:t.discList}},[i("div",[t.recommends.length?i("div",{staticClass:"slider-wrapper"},[i("div",{staticClass:"slider-content"},[i("slider",{ref:"slider"},t._l(t.recommends,(function(e,s){return i("div",{key:s},[i("a",{attrs:{href:e.linkUrl}},[i("img",{attrs:{src:e.picUrl},on:{load:t.loadImage}})])])})),0)],1)]):t._e(),i("div",{staticClass:"recommend-list"},[i("h1",{staticClass:"list-title"},[t._v("热门歌单推荐")]),i("ul",t._l(t.discList,(function(e,s){return i("li",{key:s,staticClass:"item",on:{click:function(i){return t.selectItem(e)}}},[i("div",{staticClass:"icon"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgurl,expression:"item.imgurl"}],attrs:{width:"60",height:"60"}})]),i("div",{staticClass:"text"},[i("h2",{staticClass:"name",domProps:{innerHTML:t._s(e.creator.name)}}),i("p",{staticClass:"desc",domProps:{innerHTML:t._s(e.dissname)}})])])})),0)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.discList.length,expression:"!discList.length"}],staticClass:"loading-container"},[i("loading")],1)]),i("router-view")],1)},r=[],n=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"slider",staticClass:"slider"},[i("div",{ref:"sliderGroup",staticClass:"slider-group"},[t._t("default")],2),i("div",{staticClass:"dots"},t._l(t.dots,(function(e,s){return i("span",{key:s,staticClass:"dot",class:{active:t.currentPageIndex===s}})})),0)])},o=[],c=(i("c5f6"),i("3e2c")),l=i("1fba"),d={name:"slider",props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3}},data:function(){return{dots:[],currentPageIndex:0}},mounted:function(){var t=this;setTimeout((function(){t._setSliderWidth(),t._initDots(),t._initSlider(),t.autoPlay&&t._play()}),20),window.addEventListener("resize",(function(){t.slider&&t.slider.enabled&&(clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout((function(){t.slider.isInTransition?t._onScrollEnd():t.autoPlay&&t._play(),t.refresh()}),60))}))},activated:function(){this.slider.enable();var t=this.slider.getCurrentPage().pageX;this.slider.goToPage(t,0,0),this.currentPageIndex=t,this.autoPlay&&this._play()},deactivated:function(){this.slider.disable(),clearTimeout(this.timer)},beforeDestroy:function(){this.slider.disable(),clearTimeout(this.timer)},methods:{refresh:function(){this.slider&&(this._setSliderWidth(!0),this.slider.refresh())},_setSliderWidth:function(t){this.children=this.$refs.sliderGroup.children;for(var e=0,i=this.$refs.slider.clientWidth,s=0;s<this.children.length;s++){var r=this.children[s];Object(c["a"])(r,"slider-item"),r.style.width=i+"px",e+=i}this.loop&&!t&&(e+=2*i),this.$refs.sliderGroup.style.width=e+"px"},_initSlider:function(){var t=this;this.slider=new l["a"](this.$refs.slider,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:.3,speed:400}}),this.slider.on("scrollEnd",this._onScrollEnd),this.slider.on("touchend",(function(){t.autoPlay&&t._play()})),this.slider.on("beforeScrollStart",(function(){t.autoPlay&&clearTimeout(t.timer)}))},_onScrollEnd:function(){var t=this.slider.getCurrentPage().pageX;this.currentPageIndex=t,this.autoPlay&&this._play()},_initDots:function(){this.dots=new Array(this.children.length)},_play:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.slider.next()}),this.interval)}}},u=d,h=(i("d292"),i("2877")),f=Object(h["a"])(u,a,o,!1,null,"d8dd568e",null),m=f.exports,p=i("1cb8"),g=i("e9fc"),v=i("42ba"),b=i("510f"),y=i("da71"),_=i("2f62");function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function P(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(i,!0).forEach((function(e){Object(n["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var O={mixins:[b["b"]],data:function(){return{recommends:[],discList:[]}},created:function(){this._getRecommend(),this._getDiscList()},activated:function(){var t=this;setTimeout((function(){t.$refs.slider&&t.$refs.slider.refresh()}),20)},methods:P({handlePlaylist:function(t){var e=t.length>0?"60px":"";this.$refs.recommend.style.bottom=e,this.$refs.scroll.refresh()},loadImage:function(){var t=this;this.checkloaded||(this.checkloaded=!0,setTimeout((function(){t.$refs.scroll.refresh()}),20))},selectItem:function(t){this.$router.push({path:"/recommend/".concat(t.dissid)}),this.setDisc(t)},_getRecommend:function(){var t=this;Object(v["b"])().then((function(e){e.code===y["a"]&&(t.recommends=e.data.slider)}))},_getDiscList:function(){var t=this;Object(v["a"])().then((function(e){e.code===y["a"]&&(t.discList=e.data.list)}))}},Object(_["d"])({setDisc:"SET_DISC"})),components:{Slider:m,Loading:p["a"],Scroll:g["a"]}},C=O,j=(i("beac"),Object(h["a"])(C,s,r,!1,null,"61707c42",null));e["default"]=j.exports},beac:function(t,e,i){"use strict";var s=i("5772"),r=i.n(s);r.a},bf67:function(t,e,i){},d292:function(t,e,i){"use strict";var s=i("bf67"),r=i.n(s);r.a}}]);
//# sourceMappingURL=chunk-1e0db97e.54dd1669.js.map